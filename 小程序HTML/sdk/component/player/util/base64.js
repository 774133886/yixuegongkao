var _PADCHAR="=",_ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_VERSION="1.0";function _getbyte64(e,t){var r=_ALPHA.indexOf(e.charAt(t));if(-1===r)throw"Cannot decode base64";return r}function _decode(e){var t,r,A=0,_=e.length,n=[];if(e=String(e),0===_)return e;if(_%4!=0)throw"Cannot decode base64";for(e.charAt(_-1)===_PADCHAR&&(A=1,e.charAt(_-2)===_PADCHAR&&(A=2),_-=4),t=0;t<_;t+=4)r=_getbyte64(e,t)<<18|_getbyte64(e,t+1)<<12|_getbyte64(e,t+2)<<6|_getbyte64(e,t+3),n.push(String.fromCharCode(r>>16,r>>8&255,255&r));switch(A){case 1:r=_getbyte64(e,t)<<18|_getbyte64(e,t+1)<<12|_getbyte64(e,t+2)<<6,n.push(String.fromCharCode(r>>16,r>>8&255));break;case 2:r=_getbyte64(e,t)<<18|_getbyte64(e,t+1)<<12,n.push(String.fromCharCode(r>>16))}return n.join("")}function _getbyte(e,t){var r=e.charCodeAt(t);if(255<r)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return r}function _encode(e){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";var t,r,A=[],_=(e=String(e)).length-e.length%3;if(0===e.length)return e;for(t=0;t<_;t+=3)r=_getbyte(e,t)<<16|_getbyte(e,t+1)<<8|_getbyte(e,t+2),A.push(_ALPHA.charAt(r>>18)),A.push(_ALPHA.charAt(r>>12&63)),A.push(_ALPHA.charAt(r>>6&63)),A.push(_ALPHA.charAt(63&r));switch(e.length-_){case 1:r=_getbyte(e,t)<<16,A.push(_ALPHA.charAt(r>>18)+_ALPHA.charAt(r>>12&63)+_PADCHAR+_PADCHAR);break;case 2:r=_getbyte(e,t)<<16|_getbyte(e,t+1)<<8,A.push(_ALPHA.charAt(r>>18)+_ALPHA.charAt(r>>12&63)+_ALPHA.charAt(r>>6&63)+_PADCHAR)}return A.join("")}module.exports={decode:_decode,encode:_encode,VERSION:_VERSION};